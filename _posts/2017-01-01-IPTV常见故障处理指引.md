---
layout:     post
title:      "[原创]IPTV常见故障处理指引"
subtitle:   "你也可以成为IPTV故障处理专家"
date:       2017-01-01
author:     "邵壮丰"
header-img: "img/post-bg-earth.jpg"
header-mask: 0.3
catalog:    true
tags:
    - IPTV
    - 技术发展
    - 原创
---

**`这个专题，我把IPTV运维工作相关的方法、工具、培训材料以Wiki方式归纳统一呈现，方便童鞋们学习参考。同时，如果你有什么好的资料希望共享，请发给我；如果你对这个Wiki建设有什么好的想法，请告诉我；如果你特别希望在Wiki中增加什么内容，也可告诉我。联系方式：OA邮箱`**

`注：下面可能部分资料阅读需要解压密码，请咨询市公司IPTV维护同事`

### 1.IPTV故障处理思路

IPTV业务，从头到脚基本上电信运营商提供服务，除了SP提供的节目源之外，从顶级CDN、区域CDN和边缘CDN、管理平台、骨干网络、城域网网络、接入网络、猫和机顶盒，是运营商各种业务中涉及流程最长环节最多的业务。客观的说，IPTV业务的复杂度远超过4G、宽带等基础业务，这也直接决定了IPTV的故障处理难度相对其他业务更加复杂、处理难度更大，对维护人员知识技能要求更高，很多维护人员很害怕处理IPTV故障。但不管IPTV故障处理难度多大，归纳起来故障现象和可能愿意无非是如下8类：

序 | 故障现象 | 可能原因
:----:|:------:|:-----------  
1|开机接入不了|（1）数据：用户账号数据在后台系统不一致，个别故障居多 <br>（2）网络：网络不通，机顶盒无非认证，个别或局部故障 <br>（3）平台：IPTV系统故障，特别是会引起大规模同类故障 <br>（4）机顶盒：机顶盒版本BUG，多在升级后出现，可能会集中于某种型号机顶盒
2|视频播放卡顿、马赛克|（1）外部网络：视频数据丢包，可能是承载网络拥塞、链路误码、网络设备故障、网络设备数据配置不合理导致，局部故障，此类原因居多 <br>（2）家庭网络：内部线路、路由器问题，个案 <br>（3）平台：CDN流媒体服务器负载过重，或设备故障，局部故障 <br>（4）节目源：SP提供的节目源有问题，大面积有相同故障 <br>（5）速率：账号速率不达标，个案 <br>（6）机顶盒：机顶盒版本BUG，多在升级后出现，可能会集中于某种型号机顶盒
3|视频播放黑屏|（1）网络：路由不通，或严重丢包，居多；有时提示10088等错误代码提示 <br>（2）平台：CDN设备容量完全满了，无非提供服务，概率较少；有时提示RTSP404代码
4|视频播放过程提示错误代码|同2，丢包严重时会抛出错误代码，如果EPG模版有对错误代码进行提示，则会有错误代码提示，若无提示，则现象也同2和3
5|EPG操作响应慢|（1）机顶盒：老旧低配置机顶盒居多，机顶盒性能不够满足不了EPG页面的渲染计算和内存需求，特别是早起的普通标清、高清机顶盒，需要更换为性能更高的4K智能机顶盒 <br>（2）平台：EPG模版逻辑异常或加载的其他资源无非正常加载；或EPG服务器符合性能不足
6|EPG提示错误代码|（1）参考[《广东IPTV错误代码V2.0》](/img/IptvTroubleshoot/docx/IptvErrorcode2.0.xlsx)<br>（2）主要错误代码：HTTP 500，EPG模版或EPG容器问题故障；10071，机顶盒访问EPG页面响应超时，可能是路由不通或者EPG服务器故障无响应
7|机顶盒/遥控器其他问题|（1）机顶盒：机顶盒软件或硬件故障，个案 <br>（2）遥控器控制不了：电气干扰等
8|费用争议|（1）IPTV上的增值付费节目较多，可能家庭中其他人购买了增值服务业务但缴费人不知，可通过查询日志记录确认 <br>（2）话单生成系统、计费系统故障导致出账异常<br>（3）其他恶意订购

每类问题的故障原因可能多种多样，相同的症状可能是由不同的病因引起，需要对症下药，但处理的思路不外乎：

* `对比拨测`：问问隔壁老王家的IPTV是否正常，看看不同OLT/BAS/BR下的用户是否正常* `逐段排查`：参照上表，查数据、查网络、查平台、查终端、查电视台节目源，顺藤摸瓜查；故障处理过程可能有一点小难度，实在搞不定的，可下载[《IPTV故障处理指引》](/img/IptvTroubleshoot/docx/IptvTroubleshoot.rar) 参考，多处理几单你就是高手了（只会报障不会处理是不行的^_^）

### 2.IPTV故障处理指引

作为IPTV维护专家，不管哪一类故障，我们总是需要有办法来解决故障，让用户放心地使用我们IPTV业务。下面IPTV故障处理的指引，值得仔细一读，结合实践不断提升自己的IPTV故障处理技能：


* [《IPTV故障处理指引》](/img/IptvTroubleshoot/docx/IptvTroubleshoot.rar)
* [《广东IPTV错误代码V2.0》](/img/IptvTroubleshoot/docx/IptvErrorcode2.0.xlsx)，可查询常见错误代码及其可能原因和处理建议。
* [《IPTV机顶盒MAC地址对应表》](/img/IptvTroubleshoot/docx/IptvMac.png)，可查询IPTV机顶盒与MAC地址对应关系，在处理故障时帮助判断机顶盒属于哪个厂家的。
* 同时建议你关注`广东IPTV自助服务`微信公众号：**`gdiptvss`**，可更便捷查询一些常见故障处理指引。

### 3.IPTV故障案例
省市分享的一些故障案例，值得参考学习。同时特别感谢分享这些故障案例的童鞋们，在案例中我们也保留的原作者的姓名。我们提倡分享精神，如果你有好的经验案例，请发给我们放到Wiki上。

* [2015年IPTV故障案例](/img/IptvTroubleshoot/docx/IptvCase@2015.rar) 
* [2016年IPTV故障案例](/img/IptvTroubleshoot/docx/IptvCase@2016.rar) 

### 4.IPTV其他培训、参考资料

更多IPTV（也称天翼高清）培训材料，可参考广东电信**`知识云`**（由于是DCN地址，这里就不给链接了），搜索`天翼高清`或`IPTV`或`邵壮丰`关键字。



### 5. IPTV运维工具

IPTV涉及端管云多环节，不同维护场景有不同的维护工具系统，因此本节会把IPTV日常运行维护工作涉及的工具系统做一个小结介绍：

序号 | 工具名称 | 主要功能 | 使用对象 | 使用场景 | 获取途径
:----:|:------:|:-----------:|:---:|:---:|:---: 
1|掌上综调（APP）|查询IPTV用户数据、机顶盒解绑、密码重置等|一线装维人员 |IPTV机顶盒装维 |分公司综调
2|光宽端到端系统（APP、PC）|光宽带、IPTV机顶盒视频播放卡顿马赛克等故障时进行诊断，这里嗮一张[IPTV故障诊断例](/img/IptvTroubleshoot/1/3.jpg)|一线装维、二次处理、客服人员 |IPTV机顶盒故障处理 |分公司综、客调
3|局域网内机顶盒维护小工具STBmonitor（在PC上使用）|用于局域网内或网络可达范围内连接机顶盒，对机顶盒进行配置、日志采集抓包|一线装维资深技术专家、二线维护支撑人员 |IPTV机顶盒疑难故障处理 |省NOC
4|IPTV质量监测系统SQM（在PC上使用）|监测机顶盒播放质量数据，提供机顶盒视频播放记录数据的查询管理（光宽系统已调用SQM系统重要数据）|二线维护支撑人员 |IPTV播放质量差诊断、IPTV运行质量监控 |省NOC
4|IPTV其他专业网管|对IPTV管理平台和全网CDN节点运行的运行管理、监控|二线维护支撑人员 |IPTV运维监控 |省NOC




### 6.其他

1. 想测试一下你的IPTV技术知识么？这里有一份原创性试卷[《广东天翼高清专家人才考试试卷》](/img/IptvTroubleshoot/docx/IptvTest.pdf)，值得尝试一下。

